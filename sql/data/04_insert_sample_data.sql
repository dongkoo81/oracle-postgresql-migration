-- Product Data (English)
INSERT INTO PRODUCT (PRODUCT_ID, PRODUCT_CODE, PRODUCT_NAME, UNIT_PRICE, CREATED_DATE)
VALUES (PRODUCT_SEQ.NEXTVAL, 'P001', 'Engine Part A', 150000, SYSDATE);

INSERT INTO PRODUCT (PRODUCT_ID, PRODUCT_CODE, PRODUCT_NAME, UNIT_PRICE, CREATED_DATE)
VALUES (PRODUCT_SEQ.NEXTVAL, 'P002', 'Transmission Part B', 250000, SYSDATE);

INSERT INTO PRODUCT (PRODUCT_ID, PRODUCT_CODE, PRODUCT_NAME, UNIT_PRICE, CREATED_DATE)
VALUES (PRODUCT_SEQ.NEXTVAL, 'P003', 'Brake Pad C', 80000, SYSDATE);

-- Inventory Data
INSERT INTO INVENTORY (INVENTORY_ID, PRODUCT_ID, QUANTITY, LAST_UPDATED, VERSION)
VALUES (INVENTORY_SEQ.NEXTVAL, 1, 100, SYSTIMESTAMP, 0);

INSERT INTO INVENTORY (INVENTORY_ID, PRODUCT_ID, QUANTITY, LAST_UPDATED, VERSION)
VALUES (INVENTORY_SEQ.NEXTVAL, 2, 50, SYSTIMESTAMP, 0);

INSERT INTO INVENTORY (INVENTORY_ID, PRODUCT_ID, QUANTITY, LAST_UPDATED, VERSION)
VALUES (INVENTORY_SEQ.NEXTVAL, 3, 200, SYSTIMESTAMP, 0);

-- Production Order Data
INSERT INTO PRODUCTION_ORDER (ORDER_ID, ORDER_NO, ORDER_DATE, TOTAL_AMOUNT, NOTES)
VALUES (PRODUCTION_ORDER_SEQ.NEXTVAL, 'ORD-2024-001', SYSDATE, 0, 'First test order');

INSERT INTO PRODUCTION_ORDER (ORDER_ID, ORDER_NO, ORDER_DATE, TOTAL_AMOUNT, NOTES)
VALUES (PRODUCTION_ORDER_SEQ.NEXTVAL, 'ORD-2024-002', SYSDATE, 0, 'Second test order');

-- Order Detail Data
INSERT INTO ORDER_DETAIL (DETAIL_ID, ORDER_ID, PRODUCT_ID, QUANTITY, UNIT_PRICE, LINE_AMOUNT)
VALUES (ORDER_DETAIL_SEQ.NEXTVAL, 1, 1, 10, 150000, 1500000);

INSERT INTO ORDER_DETAIL (DETAIL_ID, ORDER_ID, PRODUCT_ID, QUANTITY, UNIT_PRICE, LINE_AMOUNT)
VALUES (ORDER_DETAIL_SEQ.NEXTVAL, 1, 2, 5, 250000, 1250000);

INSERT INTO ORDER_DETAIL (DETAIL_ID, ORDER_ID, PRODUCT_ID, QUANTITY, UNIT_PRICE, LINE_AMOUNT)
VALUES (ORDER_DETAIL_SEQ.NEXTVAL, 2, 1, 5, 150000, 750000);

INSERT INTO ORDER_DETAIL (DETAIL_ID, ORDER_ID, PRODUCT_ID, QUANTITY, UNIT_PRICE, LINE_AMOUNT)
VALUES (ORDER_DETAIL_SEQ.NEXTVAL, 2, 3, 10, 80000, 800000);

-- Production History Data (Hierarchical)
INSERT INTO PRODUCTION_HISTORY (HISTORY_ID, ORDER_ID, PARENT_ID, PROCESS_NAME, PROCESS_DATE)
VALUES (PRODUCTION_HISTORY_SEQ.NEXTVAL, 1, NULL, 'Order Received', SYSTIMESTAMP);

INSERT INTO PRODUCTION_HISTORY (HISTORY_ID, ORDER_ID, PARENT_ID, PROCESS_NAME, PROCESS_DATE)
VALUES (PRODUCTION_HISTORY_SEQ.NEXTVAL, 1, 1, 'Material Preparation', SYSTIMESTAMP);

INSERT INTO PRODUCTION_HISTORY (HISTORY_ID, ORDER_ID, PARENT_ID, PROCESS_NAME, PROCESS_DATE)
VALUES (PRODUCTION_HISTORY_SEQ.NEXTVAL, 1, 2, 'Assembly', SYSTIMESTAMP);

INSERT INTO PRODUCTION_HISTORY (HISTORY_ID, ORDER_ID, PARENT_ID, PROCESS_NAME, PROCESS_DATE)
VALUES (PRODUCTION_HISTORY_SEQ.NEXTVAL, 1, 3, 'Quality Check', SYSTIMESTAMP);

INSERT INTO PRODUCTION_HISTORY (HISTORY_ID, ORDER_ID, PARENT_ID, PROCESS_NAME, PROCESS_DATE)
VALUES (PRODUCTION_HISTORY_SEQ.NEXTVAL, 1, 4, 'Packaging', SYSTIMESTAMP);

-- Product Document Data (CLOB/BLOB)
INSERT INTO PRODUCT_DOCUMENT (DOC_ID, PRODUCT_ID, DOC_NAME, DOC_CONTENT, DOC_FILE, CREATED_DATE)
VALUES (PRODUCT_DOCUMENT_SEQ.NEXTVAL, 1, 'Engine Specification', 
'This is a detailed specification document for Engine Part A. 
It includes technical specifications, installation guidelines, and maintenance procedures.',
UTL_RAW.CAST_TO_RAW('Binary file content for Engine Specification document'), SYSDATE);

INSERT INTO PRODUCT_DOCUMENT (DOC_ID, PRODUCT_ID, DOC_NAME, DOC_CONTENT, DOC_FILE, CREATED_DATE)
VALUES (PRODUCT_DOCUMENT_SEQ.NEXTVAL, 2, 'Transmission Manual', 
'Transmission Part B installation and operation manual. 
Contains step-by-step instructions and troubleshooting guide.',
UTL_RAW.CAST_TO_RAW('Binary file content for Transmission Manual document'), SYSDATE);

INSERT INTO PRODUCT_DOCUMENT (DOC_ID, PRODUCT_ID, DOC_NAME, DOC_CONTENT, DOC_FILE, CREATED_DATE)
VALUES (PRODUCT_DOCUMENT_SEQ.NEXTVAL, 3, 'Brake Pad Safety Guide', 
'Safety guidelines and replacement procedures for Brake Pad C.',
UTL_RAW.CAST_TO_RAW('Binary file content for Brake Pad Safety Guide document'), SYSDATE);

-- Product Spec Data (XML)
INSERT INTO PRODUCT_SPEC (SPEC_ID, PRODUCT_ID, SPEC_XML, VERSION, CREATED_DATE)
VALUES (PRODUCT_SPEC_SEQ.NEXTVAL, 1, 
XMLTYPE('<spec>
  <version>1.0</version>
  <category>Engine</category>
  <properties>
    <displacement>2000cc</displacement>
    <power>150HP</power>
    <torque>200Nm</torque>
  </properties>
  <dimensions>
    <weight>180kg</weight>
  </dimensions>
</spec>'),
'1.0', SYSDATE);

-- Quality Inspection Data (Partitioned Table)
INSERT INTO QUALITY_INSPECTION (INSPECTION_ID, PRODUCT_ID, ORDER_ID, INSPECTION_DATE, RESULT, DEFECT_COUNT, INSPECTOR_NAME, NOTES)
VALUES (QUALITY_INSPECTION_SEQ.NEXTVAL, 1, 1, SYSDATE, 'PASS', 0, 'John Smith', 'All quality checks passed');

INSERT INTO QUALITY_INSPECTION (INSPECTION_ID, PRODUCT_ID, ORDER_ID, INSPECTION_DATE, RESULT, DEFECT_COUNT, INSPECTOR_NAME, NOTES)
VALUES (QUALITY_INSPECTION_SEQ.NEXTVAL, 2, 1, SYSDATE, 'PASS', 0, 'Jane Doe', 'No defects found');

INSERT INTO QUALITY_INSPECTION (INSPECTION_ID, PRODUCT_ID, ORDER_ID, INSPECTION_DATE, RESULT, DEFECT_COUNT, INSPECTOR_NAME, NOTES)
VALUES (QUALITY_INSPECTION_SEQ.NEXTVAL, 3, 2, SYSDATE, 'FAIL', 3, 'Mike Johnson', 'Minor surface scratches detected');

INSERT INTO QUALITY_INSPECTION (INSPECTION_ID, PRODUCT_ID, ORDER_ID, INSPECTION_DATE, RESULT, DEFECT_COUNT, INSPECTOR_NAME, NOTES)
VALUES (QUALITY_INSPECTION_SEQ.NEXTVAL, 1, 2, SYSDATE, 'PENDING', 0, 'Sarah Lee', 'Awaiting final approval');

-- Update Order Total Amount
UPDATE PRODUCTION_ORDER o
SET TOTAL_AMOUNT = (
    SELECT SUM(LINE_AMOUNT) 
    FROM ORDER_DETAIL d 
    WHERE d.ORDER_ID = o.ORDER_ID
);

COMMIT;

EXIT;
